; Listing generated by Microsoft (R) Optimizing Compiler Version 19.41.34123.0 

	TITLE	C:\Users\RafaTheFox\Downloads\SRB2-Public-master\objs\VC10\Win32\Debug\p_fab.obj
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMTD
INCLUDELIB OLDNAMES

PUBLIC	_cv_translucency
PUBLIC	??_C@_0N@FMNOMKGI@translucency@			; `string'
PUBLIC	??_C@_02IAAGKKDJ@On@				; `string'
EXTRN	_CV_OnOff:BYTE
_DATA	SEGMENT
COMM	_ATTRPACK:DWORD
_DATA	ENDS
;	COMDAT ??_C@_02IAAGKKDJ@On@
CONST	SEGMENT
??_C@_02IAAGKKDJ@On@ DB 'On', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@FMNOMKGI@translucency@
CONST	SEGMENT
??_C@_0N@FMNOMKGI@translucency@ DB 'translucency', 00H	; `string'
CONST	ENDS
_DATA	SEGMENT
_cv_translucency DD FLAT:??_C@_0N@FMNOMKGI@translucency@
	DD	FLAT:??_C@_02IAAGKKDJ@On@
	DD	03H
	DD	FLAT:_CV_OnOff
	DD	FLAT:_Translucency_OnChange
	DD	00H
	DD	00H
	DD	00H
	DW	00H
	DB	00H
	ORG $+1
	DD	00H
_DATA	ENDS
EXTRN	_states:BYTE
_BSS	SEGMENT
_resettrans DD	01H DUP (?)
_BSS	ENDS
; Function compile flags: /Odtp /ZI
; File C:\Users\RafaTheFox\Downloads\SRB2-Public-master\src\p_fab.c
;	COMDAT _P_SetTranslucencies
_TEXT	SEGMENT
_P_SetTranslucencies PROC				; COMDAT

; 70   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 71   : 	R_SetTrans(S_SMOK1, S_SMOK5, tr_trans50);

  00009	6a 05		 push	 5
  0000b	68 cb 03 00 00	 push	 971			; 000003cbH
  00010	68 c7 03 00 00	 push	 967			; 000003c7H
  00015	e8 00 00 00 00	 call	 _R_SetTrans
  0001a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 72   : 	R_SetTrans(S_SPLASH1, 0, tr_trans50);

  0001d	6a 05		 push	 5
  0001f	6a 00		 push	 0
  00021	68 c4 03 00 00	 push	 964			; 000003c4H
  00026	e8 00 00 00 00	 call	 _R_SetTrans
  0002b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 73   : 	R_SetTrans(S_SPLASH2, 0, tr_trans70);

  0002e	6a 07		 push	 7
  00030	6a 00		 push	 0
  00032	68 c5 03 00 00	 push	 965			; 000003c5H
  00037	e8 00 00 00 00	 call	 _R_SetTrans
  0003c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 74   : 	R_SetTrans(S_SPLASH3, 0, tr_trans90);

  0003f	6a 09		 push	 9
  00041	6a 00		 push	 0
  00043	68 c6 03 00 00	 push	 966			; 000003c6H
  00048	e8 00 00 00 00	 call	 _R_SetTrans
  0004d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 75   : 
; 76   : 	R_SetTrans(S_DRIPA1, S_DRIPC2, tr_trans30);

  00050	6a 03		 push	 3
  00052	68 02 03 00 00	 push	 770			; 00000302H
  00057	68 fc 02 00 00	 push	 764			; 000002fcH
  0005c	e8 00 00 00 00	 call	 _R_SetTrans
  00061	83 c4 0c	 add	 esp, 12			; 0000000cH

; 77   : 
; 78   : 	R_SetTrans(S_BLUECRYSTAL1, S_BLUECRYSTAL1, tr_trans30);

  00064	6a 03		 push	 3
  00066	68 06 03 00 00	 push	 774			; 00000306H
  0006b	68 06 03 00 00	 push	 774			; 00000306H
  00070	e8 00 00 00 00	 call	 _R_SetTrans
  00075	83 c4 0c	 add	 esp, 12			; 0000000cH

; 79   : 
; 80   : 	R_SetTrans(S_THOK1, 0, tr_trans50); // Thok! mobj

  00078	6a 05		 push	 5
  0007a	6a 00		 push	 0
  0007c	68 38 03 00 00	 push	 824			; 00000338H
  00081	e8 00 00 00 00	 call	 _R_SetTrans
  00086	83 c4 0c	 add	 esp, 12			; 0000000cH

; 81   : 
; 82   : 	R_SetTrans(S_FLAME1, S_FLAME4, tr_trans50); // Flame

  00089	6a 05		 push	 5
  0008b	68 0b 03 00 00	 push	 779			; 0000030bH
  00090	68 08 03 00 00	 push	 776			; 00000308H
  00095	e8 00 00 00 00	 call	 _R_SetTrans
  0009a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 83   : 
; 84   : 	R_SetTrans(S_PARTICLE, S_PARTICLE, tr_trans70);

  0009d	6a 07		 push	 7
  0009f	68 e2 03 00 00	 push	 994			; 000003e2H
  000a4	68 e2 03 00 00	 push	 994			; 000003e2H
  000a9	e8 00 00 00 00	 call	 _R_SetTrans
  000ae	83 c4 0c	 add	 esp, 12			; 0000000cH

; 85   : 
; 86   : 	// Flame jet
; 87   : 	R_SetTrans(S_FLAMEJETFLAME1, S_FLAMEJETFLAME1, tr_trans50);

  000b1	6a 05		 push	 5
  000b3	68 2b 03 00 00	 push	 811			; 0000032bH
  000b8	68 2b 03 00 00	 push	 811			; 0000032bH
  000bd	e8 00 00 00 00	 call	 _R_SetTrans
  000c2	83 c4 0c	 add	 esp, 12			; 0000000cH

; 88   : 	R_SetTrans(S_FLAMEJETFLAME2, S_FLAMEJETFLAME2, tr_trans60);

  000c5	6a 06		 push	 6
  000c7	68 2c 03 00 00	 push	 812			; 0000032cH
  000cc	68 2c 03 00 00	 push	 812			; 0000032cH
  000d1	e8 00 00 00 00	 call	 _R_SetTrans
  000d6	83 c4 0c	 add	 esp, 12			; 0000000cH

; 89   : 	R_SetTrans(S_FLAMEJETFLAME3, S_FLAMEJETFLAME3, tr_trans70);

  000d9	6a 07		 push	 7
  000db	68 2d 03 00 00	 push	 813			; 0000032dH
  000e0	68 2d 03 00 00	 push	 813			; 0000032dH
  000e5	e8 00 00 00 00	 call	 _R_SetTrans
  000ea	83 c4 0c	 add	 esp, 12			; 0000000cH

; 90   : 
; 91   : 	R_SetTrans(S_BLACKEGG_GOOP1, S_BLACKEGG_GOOP3, tr_trans50);

  000ed	6a 05		 push	 5
  000ef	68 ca 01 00 00	 push	 458			; 000001caH
  000f4	68 c8 01 00 00	 push	 456			; 000001c8H
  000f9	e8 00 00 00 00	 call	 _R_SetTrans
  000fe	83 c4 0c	 add	 esp, 12			; 0000000cH

; 92   : 	R_SetTrans(S_BLACKEGG_GOOP4, 0, tr_trans60);

  00101	6a 06		 push	 6
  00103	6a 00		 push	 0
  00105	68 cb 01 00 00	 push	 459			; 000001cbH
  0010a	e8 00 00 00 00	 call	 _R_SetTrans
  0010f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 93   : 	R_SetTrans(S_BLACKEGG_GOOP5, 0, tr_trans70);

  00112	6a 07		 push	 7
  00114	6a 00		 push	 0
  00116	68 cc 01 00 00	 push	 460			; 000001ccH
  0011b	e8 00 00 00 00	 call	 _R_SetTrans
  00120	83 c4 0c	 add	 esp, 12			; 0000000cH

; 94   : 	R_SetTrans(S_BLACKEGG_GOOP6, 0, tr_trans80);

  00123	6a 08		 push	 8
  00125	6a 00		 push	 0
  00127	68 cd 01 00 00	 push	 461			; 000001cdH
  0012c	e8 00 00 00 00	 call	 _R_SetTrans
  00131	83 c4 0c	 add	 esp, 12			; 0000000cH

; 95   : 	R_SetTrans(S_BLACKEGG_GOOP7, 0, tr_trans90);

  00134	6a 09		 push	 9
  00136	6a 00		 push	 0
  00138	68 ce 01 00 00	 push	 462			; 000001ceH
  0013d	e8 00 00 00 00	 call	 _R_SetTrans
  00142	83 c4 0c	 add	 esp, 12			; 0000000cH

; 96   : 
; 97   : 	R_SetTrans(S_FOG1, S_FOG14, tr_trans50);

  00145	6a 05		 push	 5
  00147	68 e0 03 00 00	 push	 992			; 000003e0H
  0014c	68 d3 03 00 00	 push	 979			; 000003d3H
  00151	e8 00 00 00 00	 call	 _R_SetTrans
  00156	83 c4 0c	 add	 esp, 12			; 0000000cH

; 98   : 
; 99   : 	// if higher translucency needed, toy around with the other tr_trans variables
; 100  : 
; 101  : 	// shield translucencies
; 102  : 	R_SetTrans(S_SORB1, S_SORB8, tr_trans50);

  00159	6a 05		 push	 5
  0015b	68 40 03 00 00	 push	 832			; 00000340H
  00160	68 39 03 00 00	 push	 825			; 00000339H
  00165	e8 00 00 00 00	 call	 _R_SetTrans
  0016a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 103  : 
; 104  : 	// translucent spark
; 105  : 	R_SetTrans(S_SPRK1, S_SPRK1, tr_trans40);

  0016d	6a 04		 push	 4
  0016f	68 59 06 00 00	 push	 1625			; 00000659H
  00174	68 59 06 00 00	 push	 1625			; 00000659H
  00179	e8 00 00 00 00	 call	 _R_SetTrans
  0017e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 106  : 	R_SetTrans(S_SPRK2, S_SPRK4, tr_trans50);

  00181	6a 05		 push	 5
  00183	68 5c 06 00 00	 push	 1628			; 0000065cH
  00188	68 5a 06 00 00	 push	 1626			; 0000065aH
  0018d	e8 00 00 00 00	 call	 _R_SetTrans
  00192	83 c4 0c	 add	 esp, 12			; 0000000cH

; 107  : 	R_SetTrans(S_SPRK5, S_SPRK7, tr_trans60);

  00195	6a 06		 push	 6
  00197	68 5f 06 00 00	 push	 1631			; 0000065fH
  0019c	68 5d 06 00 00	 push	 1629			; 0000065dH
  001a1	e8 00 00 00 00	 call	 _R_SetTrans
  001a6	83 c4 0c	 add	 esp, 12			; 0000000cH

; 108  : 	R_SetTrans(S_SPRK8, S_SPRK10, tr_trans70);

  001a9	6a 07		 push	 7
  001ab	68 62 06 00 00	 push	 1634			; 00000662H
  001b0	68 60 06 00 00	 push	 1632			; 00000660H
  001b5	e8 00 00 00 00	 call	 _R_SetTrans
  001ba	83 c4 0c	 add	 esp, 12			; 0000000cH

; 109  : 	R_SetTrans(S_SPRK11, S_SPRK13, tr_trans80);

  001bd	6a 08		 push	 8
  001bf	68 65 06 00 00	 push	 1637			; 00000665H
  001c4	68 63 06 00 00	 push	 1635			; 00000663H
  001c9	e8 00 00 00 00	 call	 _R_SetTrans
  001ce	83 c4 0c	 add	 esp, 12			; 0000000cH

; 110  : 	R_SetTrans(S_SPRK14, S_SPRK16, tr_trans90);

  001d1	6a 09		 push	 9
  001d3	68 68 06 00 00	 push	 1640			; 00000668H
  001d8	68 66 06 00 00	 push	 1638			; 00000666H
  001dd	e8 00 00 00 00	 call	 _R_SetTrans
  001e2	83 c4 0c	 add	 esp, 12			; 0000000cH

; 111  : 
; 112  : 	R_SetTrans(S_SMALLBUBBLE, S_SMALLBUBBLE1, tr_trans50);

  001e5	6a 05		 push	 5
  001e7	68 cd 03 00 00	 push	 973			; 000003cdH
  001ec	68 cc 03 00 00	 push	 972			; 000003ccH
  001f1	e8 00 00 00 00	 call	 _R_SetTrans
  001f6	83 c4 0c	 add	 esp, 12			; 0000000cH

; 113  : 	R_SetTrans(S_MEDIUMBUBBLE, S_MEDIUMBUBBLE1, tr_trans50);

  001f9	6a 05		 push	 5
  001fb	68 cf 03 00 00	 push	 975			; 000003cfH
  00200	68 ce 03 00 00	 push	 974			; 000003ceH
  00205	e8 00 00 00 00	 call	 _R_SetTrans
  0020a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 114  : 	R_SetTrans(S_LARGEBUBBLE, S_EXTRALARGEBUBBLE, tr_trans50);

  0020d	6a 05		 push	 5
  0020f	68 d1 03 00 00	 push	 977			; 000003d1H
  00214	68 d0 03 00 00	 push	 976			; 000003d0H
  00219	e8 00 00 00 00	 call	 _R_SetTrans
  0021e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 115  : 
; 116  : 	R_SetTrans(S_SPLISH1, S_SPLISH9, tr_trans50);

  00221	6a 05		 push	 5
  00223	68 c3 03 00 00	 push	 963			; 000003c3H
  00228	68 bb 03 00 00	 push	 955			; 000003bbH
  0022d	e8 00 00 00 00	 call	 _R_SetTrans
  00232	83 c4 0c	 add	 esp, 12			; 0000000cH

; 117  : 	R_SetTrans(S_TOKEN, 0, tr_trans50);

  00235	6a 05		 push	 5
  00237	6a 00		 push	 0
  00239	68 0f 02 00 00	 push	 527			; 0000020fH
  0023e	e8 00 00 00 00	 call	 _R_SetTrans
  00243	83 c4 0c	 add	 esp, 12			; 0000000cH

; 118  : 	R_SetTrans(S_RAIN1, 0, tr_trans50);

  00246	6a 05		 push	 5
  00248	6a 00		 push	 0
  0024a	68 b6 03 00 00	 push	 950			; 000003b6H
  0024f	e8 00 00 00 00	 call	 _R_SetTrans
  00254	83 c4 0c	 add	 esp, 12			; 0000000cH

; 119  : }

  00257	5f		 pop	 edi
  00258	5e		 pop	 esi
  00259	5b		 pop	 ebx
  0025a	8b e5		 mov	 esp, ebp
  0025c	5d		 pop	 ebp
  0025d	c3		 ret	 0
_P_SetTranslucencies ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File C:\Users\RafaTheFox\Downloads\SRB2-Public-master\src\p_fab.c
;	COMDAT _R_SetTrans
_TEXT	SEGMENT
tv78 = -76						; size = 4
tv77 = -72						; size = 4
_state$ = -4						; size = 4
_state1$ = 8						; size = 4
_state2$ = 12						; size = 4
_transmap$ = 16						; size = 4
_R_SetTrans PROC					; COMDAT

; 50   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 51   : 	state_t *state = &states[state1];

  00009	6b 45 08 1c	 imul	 eax, DWORD PTR _state1$[ebp], 28
  0000d	05 00 00 00 00	 add	 eax, OFFSET _states
  00012	89 45 fc	 mov	 DWORD PTR _state$[ebp], eax
$LN4@R_SetTrans:

; 52   : 
; 53   : 	do
; 54   : 	{
; 55   : 		state->frame &= ~FF_TRANSMASK;

  00015	8b 45 fc	 mov	 eax, DWORD PTR _state$[ebp]
  00018	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0001b	81 e1 ff ff f0
	ff		 and	 ecx, -983041		; fff0ffffH
  00021	8b 55 fc	 mov	 edx, DWORD PTR _state$[ebp]
  00024	89 4a 04	 mov	 DWORD PTR [edx+4], ecx

; 56   : 		if (!resettrans)

  00027	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR _resettrans, 0
  0002e	75 12		 jne	 SHORT $LN5@R_SetTrans

; 57   : 			state->frame |= (transmap<<FF_TRANSSHIFT);

  00030	8b 45 10	 mov	 eax, DWORD PTR _transmap$[ebp]
  00033	c1 e0 10	 shl	 eax, 16			; 00000010H
  00036	8b 4d fc	 mov	 ecx, DWORD PTR _state$[ebp]
  00039	0b 41 04	 or	 eax, DWORD PTR [ecx+4]
  0003c	8b 55 fc	 mov	 edx, DWORD PTR _state$[ebp]
  0003f	89 42 04	 mov	 DWORD PTR [edx+4], eax
$LN5@R_SetTrans:

; 58   : 		state++;

  00042	8b 45 fc	 mov	 eax, DWORD PTR _state$[ebp]
  00045	83 c0 1c	 add	 eax, 28			; 0000001cH
  00048	89 45 fc	 mov	 DWORD PTR _state$[ebp], eax

; 59   : 	} while (state1++ < state2);

  0004b	8b 45 08	 mov	 eax, DWORD PTR _state1$[ebp]
  0004e	89 45 b8	 mov	 DWORD PTR tv77[ebp], eax
  00051	8b 4d 0c	 mov	 ecx, DWORD PTR _state2$[ebp]
  00054	89 4d b4	 mov	 DWORD PTR tv78[ebp], ecx
  00057	8b 55 08	 mov	 edx, DWORD PTR _state1$[ebp]
  0005a	83 c2 01	 add	 edx, 1
  0005d	89 55 08	 mov	 DWORD PTR _state1$[ebp], edx
  00060	8b 45 b8	 mov	 eax, DWORD PTR tv77[ebp]
  00063	3b 45 b4	 cmp	 eax, DWORD PTR tv78[ebp]
  00066	7c ad		 jl	 SHORT $LN4@R_SetTrans

; 60   : }

  00068	5f		 pop	 edi
  00069	5e		 pop	 esi
  0006a	5b		 pop	 ebx
  0006b	8b e5		 mov	 esp, ebp
  0006d	5d		 pop	 ebp
  0006e	c3		 ret	 0
_R_SetTrans ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File C:\Users\RafaTheFox\Downloads\SRB2-Public-master\src\p_fab.c
;	COMDAT _Translucency_OnChange
_TEXT	SEGMENT
_Translucency_OnChange PROC				; COMDAT

; 125  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 126  : 	if (!cv_translucency.value)

  00009	83 3d 14 00 00
	00 00		 cmp	 DWORD PTR _cv_translucency+20, 0
  00010	75 0a		 jne	 SHORT $LN2@Translucen

; 127  : 		resettrans = true;

  00012	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR _resettrans, 1
$LN2@Translucen:

; 128  : 	P_SetTranslucencies();

  0001c	e8 00 00 00 00	 call	 _P_SetTranslucencies
  00021	90		 npad	 1

; 129  : 	resettrans = false;

  00022	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR _resettrans, 0

; 130  : }

  0002c	5f		 pop	 edi
  0002d	5e		 pop	 esi
  0002e	5b		 pop	 ebx
  0002f	8b e5		 mov	 esp, ebp
  00031	5d		 pop	 ebp
  00032	c3		 ret	 0
_Translucency_OnChange ENDP
_TEXT	ENDS
END
